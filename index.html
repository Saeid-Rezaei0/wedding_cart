<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دعوت نامه عروسی</title>
    <link rel="stylesheet" href="style.css">

    <!-- Swiper CSS (Local) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMFOMuV5D5oCQ5D2W5C2A1s3o2s72bW9p4uLJ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMFOMuV5D5oCQ5D2W5C2A1s3o2s72bW9p4uLJ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<script>
    var audio = document.getElementById("myAudio");  // پخش فایل صوتی
    audio.play();
    audio.currentTime = 0
</script>

<body>

    <audio id="myAudio" autoplay>
        <source src="mسusic.mp3" type="audio/mpeg">
        متن جایگزین برای مرورگرهای قدیمی
    </audio>


    <div class="rotate-message">
        لطفاً گوشی را به حالت عمودی برگردانید
        <br>
        برای دید بهتر
        <span class="close-icon">×</span>
    </div>
    <!-- Swiper Container -->
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <!-- Slide 1: دعوتنامه -->
            <div class="swiper-slide">
                <div class="container">
                    <div class="bg_first">
                        <div class="card">
                            <div class="invitation">
                                <h1 class="inventtext">«شما دعوت شدید به جشن عروسی»</h1>
                            </div>
                            <div class="container_img">
                                <img src="image/گل سمت چپ.png" class="bottom__left_firsr" alt="image/گل سمت چپ.png">
                                <img src="image/برگ-وسطی.png" class="bottom__left_secend" alt="image/برگ-وسطی.png">
                                <img src="image/گل سمت راست.png" class="bottom__left_therd" alt="image/گل سمت راست.png">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!-- secent -->
            <div class="swiper-slide">
                <div class="container">
                    <img src="image/top__left.jpg" class="top__left" alt="Background Image">
                    <img src="image/top__right.jpg" class="top__right" alt="Background Image">
                    <img src="image/bottom__left.jpg" class="bottom__left" alt="Background Image">
                    <img src="image/bottom__right.jpg" class="bottom__right" alt="Background Image">
                    <div class="invitation">
                        <span class="title">بنام حضرت عشق</span>
                        <div class="span_top    ">به سنت عشق گرد هم آییم</div>
                        <div class="span_top_down   ">آنجا که دوست داشتن تنها کلام
                            زندگی است</div>
                            <div class="names-container">
                                <div class="initials">
                                    <span class="initialsfirst "> آقا میرزا محمد علی شیرازی</span>
                                    <br>
                                    <span class="initialssecent"> زهرا سید محمدباقر موسوی زاده قمی</span>
                                </div>
                            </div>
                            
                    </div>
                </div>
            </div>
            <!-- img -->
            <!-- <div class="swiper-slide ">
                <div class="imgbide"></div>
            </div> -->
            <!-- Slide 2: به نام خدا -->
            <div class="swiper-slide ">
                <div class="myslider2">
                    <div class="card">
                        <div class="text-overlay">
                            <span class="date">تاریخ: 1404/01/28 (پنج شنبه)</span>
                            <br>
                            <div class="event-time">
                                <span class="dinner">
                                    19 الی 23 (به صرف شام)
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide ">
                <div class="bg_img"></div>
            </div>

            <!-- Slide 3: به نام خدا -->
            <div class="swiper-slide myslider__slideer__3">
                <div class="myslider3_down ">
                    <div class="myslider__slideer__3_donw">
                        <p class="text_wedding">به مناسبت مراسم عقد و عروسی پیوند آقا میرزا محمد علی و سیده خانم زهرا
                            سادات برایمان ارزشمند است و خوشحال میشویم که این شادی را با شما به اشتراک بگذاریم. حضور گرم
                            و صمیمی شما در این جشن موجب شادی و افتخار ما خواهد بود</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide ">
                <div class="myslider__4 ">
                    <p class="location">
                        آدرس :اصفهان, کوی امام جعفر صادق , باغ عمارت قصر سفید
                    </p>
                </div>
            </div>
        </div>
        <div class="modal" id="endModal">
            <div class="modal-content">
                <h2>پایان اسلایدها</h2>
                <p>برای شروع دوباره روی دکمه زیر کلیک کنید</p>
                <button class="modal-button" id="replayButton">باز پخش</button>
            </div>
        </div>


        <!-- نقاط ناوبری -->
        <div class="swiper-pagination"></div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
    <div class="autoplay-progress">
        <svg viewBox="0 0 48 48">
            <circle cx="24" cy="24" r="20"></circle>
        </svg>
        <span></span>


        <!-- Swiper JS (Local) -->
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

        <!-- Initialize Swiper -->
        <script>
            const progressCircle = document.querySelector(".autoplay-progress svg");
            const progressContent = document.querySelector(".autoplay-progress span");
            var audio = document.getElementById("myAudio");
        
            document.addEventListener('DOMContentLoaded', function () {
                audio.muted = false;  // پس از لود شدن صفحه، صدا را فعال کنید
                audio.play();  // پخش فایل صوتی
        
                // مخفی کردن لودر
                document.getElementById('loader').style.display = 'none';
                // نمایش محتوای اصلی
                document.getElementById('content').style.display = 'block';
            });
        
            var swiper = new Swiper(".mySwiper", {
                spaceBetween: 30,
                centeredSlides: true,
                loop: false,
                autoplay: {
                    delay: 10000, // تاخیر 4 ثانیه‌ای
                    disableOnInteraction: false
                },
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev"
                },
                on: {
                    init: function () {
                        const initialSlide = this.slides[this.activeIndex];
                        // فعال‌سازی انیمیشن برای اولین اسلاید
                        const initialsfirstElement = initialSlide.querySelector(".initialsfirst");
                        const initialssecentElement = initialSlide.querySelector(".initialssecent");
                        if (initialsfirstElement) initialsfirstElement.classList.add('animate');
                        if (initialssecentElement) initialssecentElement.classList.add('animate');
                    },
                    slideChange: function () {
                        const currentSlide = swiper.slides[swiper.activeIndex];
        
                        // حذف انیمیشن و کلاس active از اسلایدهای دیگر
                        document.querySelectorAll(".text_wedding, .text-overlay, .inventtext, .title, .span_top.active, .span_top_down.active, .initials, .initialsfirst, .initialssecent").forEach(el => {
                            el.classList.remove("animate");
                            el.classList.remove("active"); // حذف کلاس active
                        });
        
                        // اضافه کردن انیمیشن برای اسلاید فعلی
                        const textElement = currentSlide.querySelector(".text_wedding, .text-overlay, .inventtext, .title, .initials");
                        if (textElement) {
                            textElement.classList.add('animate');
                        }
        
                        // انتخاب عناصر برای اضافه کردن کلاس‌ها
                        const elementsToAnimate = [
                            currentSlide.querySelector(".span_top"),
                            currentSlide.querySelector(".span_top_down"),
                            currentSlide.querySelector(".initialsfirst"),
                            currentSlide.querySelector(".initialssecent")
                        ];
        
                        // اضافه کردن کلاس‌های مناسب به عناصر
                        elementsToAnimate.forEach(el => {
                            if (el) {
                                el.classList.add('active'); // افزودن کلاس active
                                if (el.classList.contains('initialsfirst') || el.classList.contains('initialssecent')) {
                                    el.classList.add('animate'); // افزودن انیمیشن به initials
                                }
                            }
                        });
                    },
                    autoplayTimeLeft: function (swiper, time, progress) {
                        // بروز رسانی محتوای تایمر و دایره پیشرفت
                        progressCircle.style.setProperty('--progress', 1 - progress);
                        progressContent.textContent = `${Math.ceil(time / 1000)}s`;
        
                        // شرط آخرین اسلاید و پایان تایمر
                        if (time <= 100 && swiper.isEnd) {
                            swiper.autoplay.stop(); // توقف اسلایدر
                            document.getElementById("endModal").style.display = "flex"; // نمایش مدال
                            return; // متوقف کردن اجرای کد در اینجا
                        }
                    }
                }
            });
        
            // دکمه بازپخش
            document.getElementById("replayButton").addEventListener("click", function () {
                document.getElementById("endModal").style.display = "none";   // بستن مدال
                swiper.autoplay.stop();  // توقف اتوپلی فعلی
                swiper.slideTo(0);  // بازگشت به اسلاید اول
                swiper.autoplay.start();  // شروع دوباره اتوپلی
                audio.currentTime = 0;  // بازگشت به شروع فایل صوتی
                audio.play();  // پخش دوباره آهنگ
            });
        </script>
        
        
        
        
        <script>
            let closebtn = document.querySelector(".close-icon");
            closebtn.addEventListener("click", function () {
                document.querySelector(".rotate-message").style.display = "none";
            });
        </script>

</body>

</html>
<!-- animate__rotateInDownRight -->